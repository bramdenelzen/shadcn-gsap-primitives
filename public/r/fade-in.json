{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "fade-in",
  "type": "registry:ui",
  "dependencies": [
    "@radix-ui/react-slot",
    "class-variance-authority",
    "gsap",
    "@gsap/react"
  ],
  "files": [
    {
      "path": "registry/new-york/gsap-primitives/text-animations/fade-in.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { useGSAP } from \"@gsap/react\";\nimport gsap from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { cn } from \"@/lib/utils\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst fadeInVariants = cva(\"\", {\n  variants: {\n    variant: {\n      fade: \"\",\n      slideUp: \"\",\n      slideDown: \"\",\n      slideLeft: \"\",\n      slideRight: \"\",\n      scale: \"\",\n      blur: \"\",\n    },\n    duration: {\n      fast: \"\",\n      normal: \"\",\n      slow: \"\",\n    },\n  },\n  defaultVariants: {\n    variant: \"fade\",\n    duration: \"normal\",\n  },\n});\n\n// Animation configuration mapped to variants (GSAP initial states)\nconst GSAPOriginalStatesMap = {\n  variant: {\n    fade: {\n      initial: { opacity: 0 },\n    },\n    slideUp: {\n      initial: { opacity: 0, y: \"25%\" },\n    },\n    slideDown: {\n      initial: { opacity: 0, y: \"-25%\" },\n    },\n    slideLeft: {\n      initial: { opacity: 0, x: \"25%\" },\n    },\n    slideRight: {\n      initial: { opacity: 0, x: \"-25%\" },\n    },\n    scale: {\n      initial: { opacity: 0, scale: 0.8 },\n    },\n    blur: {\n      initial: { opacity: 0, filter: \"blur(8px)\" },\n    },\n  },\n  duration: {\n    fast: 0.3,\n    normal: 1,\n    slow: 1.5,\n  },\n} as const;\n\nexport interface FadeInProps\n  extends\n    React.HTMLAttributes<HTMLElement>,\n    VariantProps<typeof fadeInVariants> {\n  as?: React.ElementType;\n  asChild?: boolean;\n  children: React.ReactNode;\n  delay?: number;\n  customDuration?: number;\n  triggerOnView?: boolean;\n  once?: boolean;\n  skipDelayOnOutOfView?: boolean;\n}\n\nfunction FadeInComponent(\n  {\n    className,\n    variant,\n    duration,\n    as,\n    asChild = false,\n    children,\n    delay = 0,\n    customDuration,\n    triggerOnView = true,\n    once = true,\n    skipDelayOnOutOfView = false,\n    ...props\n  }: FadeInProps,\n  ref: React.Ref<HTMLElement>,\n) {\n  const Comp = asChild ? Slot : as || \"div\";\n  const containerRef = React.useRef<HTMLElement>(null);\n  const [isReady, setIsReady] = React.useState(false);\n  const [prefersReducedMotion, setPrefersReducedMotion] = React.useState(false);\n\n  React.useImperativeHandle(ref, () => containerRef.current!);\n\n  // Detect prefers-reduced-motion\n  React.useEffect(() => {\n    const mediaQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n    setPrefersReducedMotion(mediaQuery.matches);\n\n    const handleChange = (e: MediaQueryListEvent) => {\n      setPrefersReducedMotion(e.matches);\n    };\n\n    mediaQuery.addEventListener(\"change\", handleChange);\n    return () => mediaQuery.removeEventListener(\"change\", handleChange);\n  }, []);\n\n  // Get animation config from variants\n  const variantConfig = GSAPOriginalStatesMap.variant[variant || \"fade\"];\n  const animationDuration =\n    customDuration ?? GSAPOriginalStatesMap.duration[duration || \"normal\"];\n\n  React.useLayoutEffect(() => {\n    setIsReady(true);\n  }, []);\n\n  // Use useGSAP hook for animation\n  useGSAP(\n    () => {\n      if (!containerRef.current || !isReady || prefersReducedMotion) return;\n\n      let finalDelay = delay;\n      if (skipDelayOnOutOfView && containerRef.current) {\n        const rect = containerRef.current.getBoundingClientRect();\n        if (rect.top > window.innerHeight) {\n          finalDelay = 0;\n        }\n      }\n\n      // Animation properties\n      const animationProps: gsap.TweenVars = {\n        opacity: 1,\n        y: 0,\n        x: 0,\n        scale: 1,\n        filter: \"blur(0px)\",\n        duration: animationDuration,\n        ease: \"power2.out\",\n        delay: finalDelay,\n      };\n\n      if (triggerOnView) {\n        gsap.fromTo(containerRef.current, variantConfig.initial, {\n          ...animationProps,\n          scrollTrigger: {\n            trigger: containerRef.current,\n            start: \"top 80%\",\n            toggleActions: once\n              ? \"play none none none\"\n              : \"play none none reverse\",\n          },\n        });\n      } else {\n        gsap.fromTo(\n          containerRef.current,\n          variantConfig.initial,\n          animationProps,\n        );\n      }\n    },\n    {\n      scope: containerRef,\n      dependencies: [\n        isReady,\n        prefersReducedMotion,\n        variant,\n        animationDuration,\n        delay,\n        triggerOnView,\n        once,\n        skipDelayOnOutOfView,\n      ],\n    },\n  );\n\n  return (\n    <Comp\n      ref={containerRef}\n      className={cn(\n        !isReady && !prefersReducedMotion && \"opacity-0\",\n        fadeInVariants({ variant, duration }),\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </Comp>\n  );\n}\n\nconst FadeIn = React.forwardRef<HTMLElement, FadeInProps>(FadeInComponent);\n\nexport { FadeIn, fadeInVariants };\n",
      "type": "registry:ui"
    }
  ]
}
{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "mouse-follow",
  "type": "registry:ui",
  "dependencies": [
    "gsap",
    "@gsap/react"
  ],
  "files": [
    {
      "path": "registry/new-york/gsap-primitives/standard/mouse-follow.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { useGSAP } from \"@gsap/react\";\nimport gsap from \"gsap\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface MouseFollowProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, \"children\"> {\n  children?: React.ReactNode;\n  /**\n   * How quickly the cursor follows the mouse (0-1, higher is faster)\n   * @default 0.15\n   */\n  ease?: number;\n  /**\n   * Whether to hide the default cursor\n   * @default true\n   */\n  hideDefaultCursor?: boolean;\n  /**\n   * Scale factor when hovering over interactive elements\n   * @default 1.5\n   */\n  hoverScale?: number;\n  /**\n   * Whether to enable hover scaling on interactive elements\n   * @default true\n   */\n  enableHoverScale?: boolean;\n  /**\n   * Offset from the actual cursor position (in pixels)\n   * @default { x: 0, y: 0 }\n   */\n  offset?: { x: number; y: number };\n}\n\nfunction MouseFollowComponent(\n  {\n    className,\n    children,\n    ease = 0.15,\n    hideDefaultCursor = true,\n    hoverScale = 1.5,\n    enableHoverScale = true,\n    offset = { x: 0, y: 0 },\n    ...props\n  }: MouseFollowProps,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const cursorRef = React.useRef<HTMLDivElement>(null);\n  const positionRef = React.useRef({ x: 0, y: 0 });\n  const mousePositionRef = React.useRef({ x: 0, y: 0 });\n\n  React.useImperativeHandle(ref, () => cursorRef.current!);\n\n  // Track if hovering over interactive element\n  const isHoveringRef = React.useRef(false);\n\n  // Update mouse position and check hover state\n  React.useEffect(() => {\n    const handleMouseMove = (e: MouseEvent) => {\n      mousePositionRef.current = {\n        x: e.clientX + offset.x,\n        y: e.clientY + offset.y,\n      };\n\n      // Check if hovering over interactive element\n      if (enableHoverScale && cursorRef.current) {\n        const target = e.target as HTMLElement;\n        const isInteractive = target.closest(\n          'a, button, input, textarea, select, [role=\"button\"], [onclick]',\n        );\n\n        if (isInteractive && !isHoveringRef.current) {\n          isHoveringRef.current = true;\n          gsap.to(cursorRef.current, {\n            scale: hoverScale,\n            duration: 0.3,\n            ease: \"power2.out\",\n          });\n        } else if (!isInteractive && isHoveringRef.current) {\n          isHoveringRef.current = false;\n          gsap.to(cursorRef.current, {\n            scale: 1,\n            duration: 0.3,\n            ease: \"power2.out\",\n          });\n        }\n      }\n    };\n\n    window.addEventListener(\"mousemove\", handleMouseMove);\n    return () => {\n      window.removeEventListener(\"mousemove\", handleMouseMove);\n      // Reset scale on cleanup\n      if (cursorRef.current) {\n        gsap.to(cursorRef.current, {\n          scale: 1,\n          duration: 0.3,\n          ease: \"power2.out\",\n        });\n      }\n      isHoveringRef.current = false;\n    };\n  }, [offset.x, offset.y, enableHoverScale, hoverScale]);\n\n  // Animate cursor following mouse\n  useGSAP(() => {\n    if (!cursorRef.current) return;\n\n    const ticker = () => {\n      if (!cursorRef.current) return;\n\n      const dx = mousePositionRef.current.x - positionRef.current.x;\n      const dy = mousePositionRef.current.y - positionRef.current.y;\n\n      positionRef.current.x += dx * ease;\n      positionRef.current.y += dy * ease;\n\n      gsap.set(cursorRef.current, {\n        x: positionRef.current.x,\n        y: positionRef.current.y,\n      });\n    };\n\n    gsap.ticker.add(ticker);\n\n    return () => {\n      gsap.ticker.remove(ticker);\n    };\n  }, [ease]);\n\n  // Hide default cursor on mount\n  React.useEffect(() => {\n    if (hideDefaultCursor) {\n      const style = document.createElement(\"style\");\n      style.id = \"mouse-follow-cursor-hide\";\n      style.innerHTML = `\n        *, *::before, *::after {\n          cursor: none !important;\n        }\n        html {\n          cursor: none !important;\n        }\n      `;\n      document.head.appendChild(style);\n      \n      // Also set on html and body elements directly\n      document.documentElement.style.cursor = \"none\";\n      document.body.style.cursor = \"none\";\n      \n      return () => {\n        const existingStyle = document.getElementById(\"mouse-follow-cursor-hide\");\n        if (existingStyle) {\n          existingStyle.remove();\n        }\n        document.documentElement.style.cursor = \"\";\n        document.body.style.cursor = \"\";\n      };\n    }\n  }, [hideDefaultCursor]);\n\n  return (\n    <div\n      ref={cursorRef}\n      className={cn(\n        \"pointer-events-none fixed left-0 top-0 z-[9999]\",\n        \"-translate-x-1/2 -translate-y-1/2\",\n        className,\n      )}\n      {...props}\n    >\n      {children || (\n        <div className=\"h-6 w-6 rounded-full bg-foreground/50 backdrop-blur-sm\" />\n      )}\n    </div>\n  );\n}\n\nexport const MouseFollow = React.forwardRef<HTMLDivElement, MouseFollowProps>(\n  MouseFollowComponent,\n);\n\nMouseFollow.displayName = \"MouseFollow\";\n",
      "type": "registry:component"
    }
  ]
}